{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AudioPlayer(){const[audioUrl,setAudioUrl]=useState('');const[loading,setLoading]=useState(false);const[url,setUrl]=useState('');useEffect(()=>{const fetchStoredUrl=async()=>{const response=await fetch('http://localhost:3001/video');if(response.ok){const data=await response.json();if(data.url){setUrl(data.url);}}};fetchStoredUrl();},[]);const handleFetchAudio=async()=>{setLoading(true);try{const response=await fetch(\"http://localhost:3001/video/audio?url=\".concat(encodeURIComponent(url)));console.log(url);if(response.ok){const audioBlob=await response.blob();const audioUrl=URL.createObjectURL(audioBlob);setAudioUrl(audioUrl);}else{console.error('Failed to fetch audio');alert('Failed to fetch audio');// Show error feedback\n}}catch(error){console.error('Error fetching audio:',error);alert('Error fetching audio');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-3 m-3 bg-white border-2 border-black rounded-md\",onClick:handleFetchAudio,disabled:loading,children:loading?'Loading...':'Load 15 sec of Audio'}),audioUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"audio\",{controls:true,src:audioUrl,className:\"\",children:\"Your browser does not support the audio element.\"}),/*#__PURE__*/_jsx(\"a\",{href:audioUrl,download:\"clip.mp3\",className:\"p-3 m-3 bg-white border-2 border-black rounded-md\",children:\"Download Audio\"})]})]});}export default AudioPlayer;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AudioPlayer","audioUrl","setAudioUrl","loading","setLoading","url","setUrl","fetchStoredUrl","response","fetch","ok","data","json","handleFetchAudio","concat","encodeURIComponent","console","log","audioBlob","blob","URL","createObjectURL","error","alert","className","children","onClick","disabled","controls","src","href","download"],"sources":["C:/Users/sargi/Desktop/Task/TaskRepo/ClientRepo/FronEndClient/src/Components/AudioPlayer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction AudioPlayer() {\r\n  const [audioUrl, setAudioUrl] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\nconst [url, setUrl] = useState('')\r\n\r\n  useEffect(() => {\r\n    const fetchStoredUrl = async () => {\r\n      const response = await fetch('http://localhost:3001/video');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.url) {\r\n          setUrl(data.url);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchStoredUrl();\r\n  }, []);\r\n  const handleFetchAudio = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`http://localhost:3001/video/audio?url=${encodeURIComponent(url)}`);\r\n      console.log(url)\r\n      if (response.ok) {\r\n        const audioBlob = await response.blob();\r\n        const audioUrl = URL.createObjectURL(audioBlob);\r\n        setAudioUrl(audioUrl);\r\n      } else {\r\n        console.error('Failed to fetch audio');\r\n        alert('Failed to fetch audio'); // Show error feedback\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching audio:', error);\r\n      alert('Error fetching audio');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className='flex flex-col items-center justify-center mt-8'>\r\n      <button className='p-3 m-3 bg-white border-2 border-black rounded-md' onClick={handleFetchAudio} disabled={loading}>\r\n        {loading ? 'Loading...' : 'Load 15 sec of Audio'}\r\n      </button>\r\n      {audioUrl && (\r\n        <div className='flex flex-col items-center justify-center'>\r\n          <audio controls src={audioUrl} className=''>\r\n            Your browser does not support the audio element.\r\n          </audio>\r\n          <a href={audioUrl} download=\"clip.mp3\" className=\"p-3 m-3 bg-white border-2 border-black rounded-md\">\r\n            Download Audio\r\n          </a>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AudioPlayer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACW,GAAG,CAAEC,MAAM,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEhCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAC3D,GAAID,QAAQ,CAACE,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,CAACN,GAAG,CAAE,CACZC,MAAM,CAACK,IAAI,CAACN,GAAG,CAAC,CAClB,CACF,CACF,CAAC,CAEDE,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAM,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnCT,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,0CAAAK,MAAA,CAA0CC,kBAAkB,CAACV,GAAG,CAAC,CAAE,CAAC,CAChGW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC,CAChB,GAAIG,QAAQ,CAACE,EAAE,CAAE,CACf,KAAM,CAAAQ,SAAS,CAAG,KAAM,CAAAV,QAAQ,CAACW,IAAI,CAAC,CAAC,CACvC,KAAM,CAAAlB,QAAQ,CAAGmB,GAAG,CAACC,eAAe,CAACH,SAAS,CAAC,CAC/ChB,WAAW,CAACD,QAAQ,CAAC,CACvB,CAAC,IAAM,CACLe,OAAO,CAACM,KAAK,CAAC,uBAAuB,CAAC,CACtCC,KAAK,CAAC,uBAAuB,CAAC,CAAE;AAClC,CACF,CAAE,MAAOD,KAAK,CAAE,CACdN,OAAO,CAACM,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CC,KAAK,CAAC,sBAAsB,CAAC,CAC/B,CACAnB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAID,mBACEL,KAAA,QAAKyB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7D5B,IAAA,WAAQ2B,SAAS,CAAC,mDAAmD,CAACE,OAAO,CAAEb,gBAAiB,CAACc,QAAQ,CAAExB,OAAQ,CAAAsB,QAAA,CAChHtB,OAAO,CAAG,YAAY,CAAG,sBAAsB,CAC1C,CAAC,CACRF,QAAQ,eACPF,KAAA,QAAKyB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD5B,IAAA,UAAO+B,QAAQ,MAACC,GAAG,CAAE5B,QAAS,CAACuB,SAAS,CAAC,EAAE,CAAAC,QAAA,CAAC,kDAE5C,CAAO,CAAC,cACR5B,IAAA,MAAGiC,IAAI,CAAE7B,QAAS,CAAC8B,QAAQ,CAAC,UAAU,CAACP,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,gBAErG,CAAG,CAAC,EACD,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAzB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}