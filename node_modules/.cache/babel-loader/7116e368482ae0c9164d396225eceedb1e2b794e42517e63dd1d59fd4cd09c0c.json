{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TranslationContainer(){const[transcription,setTranscription]=useState('');const[translation,setTranslation]=useState('');const[speechUrl,setSpeechUrl]=useState('');// State to hold the speech audio URL\nconst[isLoading,setIsLoading]=useState(false);const handleAudioProcessing=async()=>{setIsLoading(true);try{const response=await fetch('https://35.224.219.98:3001/processAudio',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({targetLanguage:'es'})// Hardcoded to Spanish\n});if(response.ok){const{transcription,translation}=await response.json();setTranscription(transcription);setTranslation(translation);}else{console.error('Failed to process the audio.');// Handle errors appropriately in your UI.\n}}catch(error){console.error('Error:',error);// Handle errors appropriately in your UI.\n}setIsLoading(false);};const handleConvertTextToSpeech=async()=>{setIsLoading(true);try{const response=await fetch('https://35.224.219.98:3001/convertTextToSpeech',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:translation})// Use the translated text\n});if(response.ok){const audioBlob=await response.blob();const audioUrl=URL.createObjectURL(audioBlob);setSpeechUrl(audioUrl);}else{console.error('Failed to convert text to speech.');alert('Failed to convert text to speech.');}}catch(error){console.error('Error converting text to speech:',error);alert('Error converting text to speech.');}setIsLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mt-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 text-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"my-2 montserrat-semibold text-lg tracking-wider\",children:\"Transcription:\"}),/*#__PURE__*/_jsx(\"p\",{className:\" roboto-medium text-sm\",children:transcription}),/*#__PURE__*/_jsx(\"h2\",{className:\"my-2 montserrat-semibold tracking-wider text-lg\",children:\"Translation to spanish:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"roboto-medium text-sm\",children:translation})]}),/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-black py-2 px-3 m-2 roboto-medium rounded-md bg-white tracking-wider\",onClick:handleAudioProcessing,disabled:isLoading,children:isLoading?\"Processing...\":\"Process Audio and Translate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mt-12\",children:[speechUrl&&/*#__PURE__*/_jsx(\"audio\",{controls:true,src:speechUrl,children:\"Your browser does not support the audio element.\"}),translation&&/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-black py-2 px-3 m-2 roboto-medium rounded-md bg-white tracking-wider\",onClick:handleConvertTextToSpeech,disabled:isLoading,children:isLoading?\"Converting...\":\"Convert Text to Speech\"})]})]});}export default TranslationContainer;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","TranslationContainer","transcription","setTranscription","translation","setTranslation","speechUrl","setSpeechUrl","isLoading","setIsLoading","handleAudioProcessing","response","fetch","method","headers","body","JSON","stringify","targetLanguage","ok","json","console","error","handleConvertTextToSpeech","text","audioBlob","blob","audioUrl","URL","createObjectURL","alert","children","className","onClick","disabled","controls","src"],"sources":["C:/Users/sargi/Desktop/Task/TaskRepo/ClientRepo/src/Components/TranslationContainer.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction TranslationContainer() {\r\n  const [transcription, setTranscription] = useState('');\r\n  const [translation, setTranslation] = useState('');\r\n  const [speechUrl, setSpeechUrl] = useState(''); // State to hold the speech audio URL\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleAudioProcessing = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch('https://35.224.219.98:3001/processAudio', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ targetLanguage: 'es' }), // Hardcoded to Spanish\r\n      });\r\n      if (response.ok) {\r\n        const { transcription, translation } = await response.json();\r\n        setTranscription(transcription);\r\n        setTranslation(translation);\r\n      } else {\r\n        console.error('Failed to process the audio.');\r\n        // Handle errors appropriately in your UI.\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      // Handle errors appropriately in your UI.\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleConvertTextToSpeech = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch('https://35.224.219.98:3001/convertTextToSpeech', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ text: translation }), // Use the translated text\r\n      });\r\n      if (response.ok) {\r\n        const audioBlob = await response.blob();\r\n        const audioUrl = URL.createObjectURL(audioBlob);\r\n        setSpeechUrl(audioUrl);\r\n      } else {\r\n        console.error('Failed to convert text to speech.');\r\n        alert('Failed to convert text to speech.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error converting text to speech:', error);\r\n      alert('Error converting text to speech.');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-center mt-12\">\r\n        <div className=\"w-1/2 text-white\">\r\n          <h2 className='my-2 montserrat-semibold text-lg tracking-wider'>Transcription:</h2>\r\n          <p className=' roboto-medium text-sm'>{transcription}</p>\r\n          <h2 className='my-2 montserrat-semibold tracking-wider text-lg'>Translation to spanish:</h2>\r\n          <p className='roboto-medium text-sm'>{translation}</p>\r\n        </div>\r\n        <button\r\n          className=\"border-2 border-black py-2 px-3 m-2 roboto-medium rounded-md bg-white tracking-wider\"\r\n          onClick={handleAudioProcessing}\r\n          disabled={isLoading}\r\n        >\r\n          {isLoading ? \"Processing...\" : \"Process Audio and Translate\"}\r\n        </button>\r\n      </div>\r\n      <div className=\"flex items-center justify-center mt-12\">\r\n        {speechUrl && (\r\n          <audio controls src={speechUrl}>\r\n            Your browser does not support the audio element.\r\n          </audio>\r\n        )}\r\n        {translation && (\r\n          <button\r\n            className=\"border-2 border-black py-2 px-3 m-2 roboto-medium rounded-md bg-white tracking-wider\"\r\n            onClick={handleConvertTextToSpeech}\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? \"Converting...\" : \"Convert Text to Speech\"}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TranslationContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}