{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function VideoContainer(){const[url,setUrl]=useState('');const[metadata,setMetadata]=useState(null);const[status,setStatus]=useState('');useEffect(()=>{const fetchStoredUrl=async()=>{const response=await fetch('http://localhost:3001/video');if(response.ok){const data=await response.json();if(data.url){setUrl(data.url);fetchMetadata(data.url);}}};fetchStoredUrl();},[]);const fetchMetadata=async videoUrl=>{const response=await fetch(\"http://localhost:3001/video/metadata?url=\".concat(encodeURIComponent(videoUrl)));if(response.ok){const metadata=await response.json();setMetadata(metadata);console.log('Metadata fetched successfully');}else{console.log('Failed to fetch metadata');}};const handleSubmit=async event=>{event.preventDefault();try{const response=await fetch('http://localhost:3001/video',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url})});if(response.ok){console.log('URL submitted successfully');setStatus('URL Submitted successfully');fetchMetadata(url);}else{console.error('Submission failed');setStatus('Submission failed');}}catch(error){console.error('Error submitting the URL:',error);setStatus(\"Error submitting the URL: \".concat(error));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-24 flex items-center justify-center mt-12\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"m-2 p-2 text-lg h-[40px] w-[300px] roboto-medium\",value:url,placeholder:\"URL of your .MP4 Video\",onChange:e=>setUrl(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-black py-2 px-3 m-2 roboto-medium rounded-md bg-white tracking-wider\",type:\"submit\",children:\"SUBMIT\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center montserrat-semibold text-xl\",children:/*#__PURE__*/_jsx(\"p\",{children:status})}),metadata&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center mt-8 text-xl montserrat-medium text-white\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Duration: \",metadata.duration,\" seconds\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Height: \",metadata.videoHeight,\" PX\"]})]})]});}export default VideoContainer;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoContainer","url","setUrl","metadata","setMetadata","status","setStatus","fetchStoredUrl","response","fetch","ok","data","json","fetchMetadata","videoUrl","concat","encodeURIComponent","console","log","handleSubmit","event","preventDefault","method","headers","body","JSON","stringify","error","children","className","onSubmit","type","value","placeholder","onChange","e","target","duration","videoHeight"],"sources":["C:/Users/sargi/Desktop/Task/TaskRepo/ClientRepo/FronEndClient/src/Components/VideoContainer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction VideoContainer() {\r\n  const [url, setUrl] = useState('');\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [status, setStatus] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchStoredUrl = async () => {\r\n      const response = await fetch('http://localhost:3001/video');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.url) {\r\n          setUrl(data.url);\r\n          fetchMetadata(data.url);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchStoredUrl();\r\n  }, []);\r\n\r\n  const fetchMetadata = async (videoUrl) => {\r\n    const response = await fetch(`http://localhost:3001/video/metadata?url=${encodeURIComponent(videoUrl)}`);\r\n    if (response.ok) {\r\n      const metadata = await response.json();\r\n      setMetadata(metadata);\r\n      console.log('Metadata fetched successfully');\r\n    } else {\r\n      console.log('Failed to fetch metadata');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await fetch('http://localhost:3001/video', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ url }),\r\n      });\r\n      if (response.ok) {\r\n        console.log('URL submitted successfully');\r\n        setStatus('URL Submitted successfully');\r\n        fetchMetadata(url);\r\n      } else {\r\n        console.error('Submission failed');\r\n        setStatus('Submission failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting the URL:', error);\r\n      setStatus(`Error submitting the URL: ${error}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"h-24 flex items-center justify-center mt-12\">\r\n        <form onSubmit={handleSubmit} className=\"flex items-center\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"m-2 p-2 text-lg h-[40px] w-[300px] roboto-medium\"\r\n            value={url}\r\n            placeholder=\"URL of your .MP4 Video\"\r\n            onChange={(e) => setUrl(e.target.value)}\r\n          />\r\n          <button className=\"border-2 border-black py-2 px-3 m-2 roboto-medium rounded-md bg-white tracking-wider\" type=\"submit\">\r\n            SUBMIT\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div className=\"flex justify-center montserrat-semibold text-xl\">\r\n        <p>{status}</p>\r\n      </div>\r\n      {metadata && (\r\n        <div className=\"flex flex-col items-center justify-center mt-8 text-xl montserrat-medium text-white\">\r\n          <p>Duration: {metadata.duration} seconds</p>\r\n          <p>Height: {metadata.videoHeight} PX</p>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default VideoContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}